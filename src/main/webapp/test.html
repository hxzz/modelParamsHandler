<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>测试</title>
<script type="text/javascript">
var xmlhttp;
var  count=0;
function loadXMLDoc(){
	if (window.XMLHttpRequest) {// code for IE7+, Firefox, Chrome, Opera, Safari
	 	 xmlhttp=new XMLHttpRequest();
	}else{// code for IE6, IE5
	  	xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
	}
	xmlhttp.onreadystatechange=function(){
		 /* var state=xmlhttp.readyState;
		 var status=xmlhttp.status;
		 var rs=(xmlhttp.readyState==4 && xmlhttp.status==200);
		 var node=document.createTextNode(count++ +":  "+state+","+status+",")
		 document.getElementById("body").appendChild(node); */
	  	 if (xmlhttp.readyState==4 && xmlhttp.status==200){
	  		document.getElementById("body").appendChild(document.createTextNode(xmlhttp.responseText));
	  		document.getElementById("body").appendChild(document.createElement("br"));
		 }

   }
}

function send(){
	for(var i=0;i<1;i++){
		loadXMLDoc();
		xmlhttp.open("POST","/modelParamsHandler/ModelParamsDiliver",true);
		xmlhttp.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=UTF-8;");
		xmlhttp.setRequestHeader("charset","UTF-8");
	//xmlhttp.setRequestHeader("charset", "UTF-8");

		var str= document.getElementById("msg").value;
		//var msg=escape(str);
		 
		msg =JSON.parse(str);
		xmlhttp.send("msg="+JSON.stringify(msg));
		console.info(); 
	}
	
}

</script>
</head>
<body id="body">
 <!-- <form action="/test/ModelParamsDiliver" method="post" >  -->
	<textarea style="width:100%;height:200px;" name="msg" id="msg">
	   {
	   	   "cmd":"generate",
	   	   "jobID":"dbnsaldbsalihu695865732",
	   	   "params":{
	   	   		"id":"000000001",
	   	   		"params":[
	   	   		  		{"name":"长","type":"d","values":["10"]},
	   					{"name":"宽","type":"d","values":["10"]},
	   					{"name":"高","type":"d","values":["10"]}
	   	   		]
	   	   },
	   	   "path":"./tmp/box3333333"
	   
	   }

	</textarea>
	<div style="text-align:center;">
	<button onclick="send()" >提交</button> 
	<!-- 	<button type="submit" >表单提交</button>  -->
	</div>
<!-- 	</form> -->
	<br/>
	 {
	   	"cmd":"generate",
	   	"jobID":"dsabldsahgdo8iwah324h234879",
	   	"params":{
	   				"id":"000000001",
	   				"params":[
	   							{"name":"长","type":"d","values":["10"]},
	   							{"name":"宽","type":"d","values":["10"]},
	   							{"name":"高","type":"d","values":["10"]}
	   				],
	   				"desc":null,
	   				"name":null,
	   				"path":null
	   			},					
	   	"details":null,
	   	"path":"/tmp/box22222"
	   }
</body>
</html>